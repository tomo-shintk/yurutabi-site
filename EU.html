  <!DOCTYPE html>
  <html lang="ja">
  <head>
    <meta charset="UTF-8">
    <title>ヨーロッパ観光地図</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <style>
      #map {
        height: 100vh;
        width: 100%;
        max-width: 1200px; /* 横幅制限 */
        margin: 0 auto;
      }
      .popup-img {
        width: 200px;
        height: auto;
        margin-top: 5px;
        border-radius: 8px;
      }
      .popup-img-crop {
        width: 220px;
        height: 130px;
        object-fit: cover; /* 横長トリミング */
        border-radius: 8px;
        margin-top: 5px;
      }
    </style>
  </head>
  <body>

  <div id="map"></div>

  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script>
    const map = L.map('map', {
      center: [47.0, 10.0],
      zoom: 4,
      minZoom: 3,
      maxZoom: 8,
      maxBounds: [
        [35.0, -15.0],  // 南西の範囲（スペイン南西より少し外）
        [72.0, 35.0]    // 北東の範囲（フィンランド北部くらいまで）
      ],
      maxBoundsViscosity: 1.0 // バウンド外には出られない
    });

    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      attribution: '© OpenStreetMap contributors'
    }).addTo(map);

    const places = [
      ["モン・サン＝ミッシェル（フランス）", 48.636063, -1.511457, "https://images.pexels.com/photos/6746008/pexels-photo-6746008.jpeg", "normal"],
      ["ヴェネツィア（水門都市）（イタリア）", 45.440847, 12.315515, "https://i.ibb.co/LXjytyny/pexels-joseph-costa-639863-1462935.jpg", "normal"],
      ["ノイシュヴァンシュタイン城（ドイツ）", 47.5576, 10.7498, "https://i.ibb.co/jkrLcr2y/pexels-pascalr-187854.jpg", "normal"],
      ["ストックホルム（スウェーデン）", 59.3293, 18.0686, "https://i.ibb.co/qLvYYdqZ/pexels-vicente-viana-martinez-1098458-2377441.jpg", "normal"],
      ["グランプラス（ベルギー）", 50.8467, 4.3499, "https://i.ibb.co/XrdTRnvV/pexels-petar-starcevic-2587789.jpg", "normal"],
      ["大英博物館（イギリス）", 51.5194, -0.1270, "https://i.ibb.co/tMr8FH7H/pexels-dominikagregus-672532.jpg", "normal"],
      ["ビッグベン（イギリス）", 51.5007, -0.1246, "https://i.ibb.co/tMr8FH7H/pexels-dominikagregus-672532.jpg", "normal"],
      ["サグラダ・ファミリア（スペイン）", 41.4036, 2.1744, "https://i.ibb.co/d48HhhGX/pexels-mateusz-kolba-472738537-16067342.jpg", "crop"],
      ["アムステルダム（オランダ）", 52.3752, 4.8838, "https://i.ibb.co/rK76vJZB/pexels-blazearth-32245475.jpg", "normal"],
      ["ルツェルン（スイス）", 47.0502, 8.3093, "https://i.ibb.co/b5fCM0tH/pexels-fatma-kaya-672096534-18497948.jpg", "normal"],
      ["ヘルシンキ大聖堂（フィンランド）", 60.1695, 24.9520, "https://i.ibb.co/ccQKPNYD/pexels-aleksei-pribolovski-258450633-12638765.jpg", "normal"],
      ["サントリーニ島（ギリシャ）", 36.3932, 25.4615, "https://i.ibb.co/YTTjyhf4/pexels-kovyrina-7100435.jpg", "crop"]
    ];

    places.forEach(place => {
      const imgClass = place[4] === "crop" ? "popup-img-crop" : "popup-img";
      L.marker([place[1], place[2]])
        .addTo(map)
        .bindPopup(`<b>${place[0]}</b><br><img src="${place[3]}" class="${imgClass}">`);
    });
  </script>

  </body>
  </html>
